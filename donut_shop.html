<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link href="donut_shop_css.css" rel="stylesheet">
  <title>Da Donut Project!</title>
</head>
<body>
  <header>
    <h1>The Really Really Really Good Donut Shop</h1>
    <h2>... and how many donuts we make</h2>
    <img src="http://i.imgur.com/x7xJfhi.png">
  </header>
  <article>
    <p>I created a constructor function for the donut shops with the parameters:
     name, minimum customers, maximum customers, average donuts each customer
     buys, and how many hours the shop is open. I also created a variable inside
      the function to randomize the amount of customers per hour the store
      receives using the Math.random function to generate a random number
      between the minimum and maxium customers per hour. Lastly I created a
      method to calculate the amount of donuts needed per hour by multiplying
      customers per hour by average donuts purchased, and then donuts need per
      day by multiplying hours open by donuts per hour. Then the method uses
      this information to log a statement to the console.</p>
    <br />
    <p>   Next I created a new donutShop for each location, filled out the
    different parameters, and then called the bakeDonuts function which logs to
     the console how many donuts are needed per hour and per day.</p>
  </article>
  <table id="donutshop">
    <tr id="table-heading">
      <th scope="column">Location</th>
      <th scope="column">Average Donuts Sold Per Hour</th>
      <th scope="column">Average Donuts Sold Per Day</th>
    </tr>
    <tr>
      <th scope="row" class="location">Downtown</th>
      <td>172</td>
      <td>1720</td>
    </tr>
    <tr>
      <th scope="row" class="location">Capitol Hill</th>
      <td>58</td>
      <td>812</td>
    </tr>
    <tr>
      <th scope="row" class="location">South Lake Union</th>
      <td>60</td>
      <td>480</td>
    </tr>
    <tr>
      <th scope="row" class="location">Wedgewood</th>
      <td>2</td>
      <td>28</td>
    </tr>
    <tr>
      <th scope="row" class="location">Ballard</th>
      <td>4</td>
      <td>32</td>
    </tr>
    <tr>
      <th scope="row" class="location">Fremont</th>
      <td>24</td>
      <td>216</td>
    </tr>
    <tr>
      <th scope="row" class="location">Phinney</th>
      <td>72</td>
      <td>504</td>
    </tr>
  </table>

  <footer id="footer">

  </footer>

  <script type="text/javascript">
  var today = new Date();
  var year = today.getFullYear();
  var date = document.getElementById('footer');
  date.innerHTML = '<p><strong>&copy; Ryan Neese ' + year + '</strong></p>';

  function DonutShop(name, minCust, maxCust, avgDonuts, hours )  {
    this.name = name;
    this.minCust = minCust;
    this.maxCust = maxCust;
    var custHour = Math.floor(Math.random() * (this.maxCust - this.minCust + 1) + this.minCust);
    this.avgDonuts = avgDonuts;
    this.hours = hours;

    this.getDonutsPerHour = function() {
      return custHour * Math.floor(this.avgDonuts);
    };

    this.getDonutsPerDay = function() {
      return this.hours * this.getDonutsPerHour();
    };



  }

  var donutShops = [new DonutShop('Downtown', 8,  43, 4.5, 10),
        new DonutShop('Capitol Hill', 4, 37, 2, 14),
        new DonutShop('South Lake Union', 9, 23, 6.33, 8),
        new DonutShop('Wedgewood', 2, 28, 1.25, 8),
        new DonutShop('Ballard', 8, 58, 3.75, 14)];

  function DonutMaster() {
    this.addShop = function(name, minCust, maxCust, avgDonuts, hours) {
      var donutShop = new DonutShop(name, minCust, maxCust, avgDonuts, hours);
      donutShops.push(donutShop);
    };
    this.generateReport = function() {
      for (var i = 0; i < donutShops.length; i++) {
        console.log('The ' + donutShops[i].name +
        ' location is making ' + donutShops[i].getDonutsPerHour() + ' donuts per hour today and will make ' + donutShops[i].getDonutsPerDay() + ' donuts by the end of the day.');
      }
    };
  }

  var ryan = new DonutMaster();
  ryan.addShop('Fremont', 6, 44, 3, 9);
  ryan.addShop('Phinney', 2, 16, 12, 7);
  ryan.generateReport();
  </script>
</body>
</html>
